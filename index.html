<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Central do Oleo</title>
</head>

<style>
    body {
        background-image: linear-gradient(to bottom, rgba(254, 241, 22) 0%, rgb(233, 230, 197));
        width: 100vw;
        height: 100vh;
    }

    .logo {
        margin-top: 1%;
        width: 15%;
        right: 15%;
    }
    table{
        width: 30%;
        margin: auto;
    }
    td, tr{
        border: 1px solid #000000;
        text-align: center;
        padding: 1px;
        font-size: 15px;
    }
</style>

<body id="corpo">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div style="text-align: center">
                    <img id="logo" class="logo" alt="Central do Oleo" src="./images/oleoquente.png" />
                </div>
                <h3 class="text-center">
                    Pesquisa de Satisfação
                </h3>
                <table class="table table-sm" id="carros">
                    <thead>
                        <tr>
                            <th>
                                Placa
                            </th>
                            <th>
                                Nome
                            </th>
                            <th>
                                Atendimento
                            </th>
                            <th>
                                Conhecimento
                            </th>
                            <th>
                                Infraestrutura
                            </th>
                            <th>
                                Qualidade do serviço
                            </th>
                        </tr>
                    </thead>
                </table>
                <dl>
                    Selecione um cliente desejado para obter mais informações
                </dl>
            </div>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase.js"></script>
    <script type="module">
        const firebaseConfig = {
            apiKey: "AIzaSyA-1yFQ4CDGvtKLpkL9HaM_fiKLy6IHvPc",
            authDomain: "pesquisa-de-satisfacao-73f45.firebaseapp.com",
            databaseURL: "https://pesquisa-de-satisfacao-73f45-default-rtdb.firebaseio.com",
            projectId: "pesquisa-de-satisfacao-73f45",
            storageBucket: "pesquisa-de-satisfacao-73f45.appspot.com",
            messagingSenderId: "129204417064",
            appId: "1:129204417064:web:d528da356a236dfeeefb1d",
            measurementId: "G-TV49GEPZQB"
        };
        firebase.initializeApp(firebaseConfig)


            var corpo = document.getElementById("corpo")
            corpo.onload =  carrega()

        function carrega() {
            var tabela = document.getElementById("carros")
            var ano = 2023
            var mes = 4
            var db = firebase.database().ref().child("clientes").child(ano).child(mes);
            db.on('child_added', function (snapshot) {
                var carro = snapshot.val()
                var linha = "<tr><td>" +
                    carro.placa + "</td><td>" +
                    carro.nome + "</td><td>" +
                    carro.atendimento + "</td><td>" +
                    carro.conhecimento + "</td><td>" +
                    carro.infraestrutura + "</td><td>" +
                    carro.qualidadedoservico + "</td></tr>"

                tabela.innerHTML += linha
            })
        }
    </script>
</body>

</html>
